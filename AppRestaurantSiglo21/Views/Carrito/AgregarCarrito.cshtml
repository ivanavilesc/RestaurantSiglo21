@model IEnumerable<AppRestaurantSiglo21.Models.PRODUCTO>

@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_PrincipalAdmin.cshtml";
}

<div class="container">


    <div class="card text-center">
        <div class="card-body">
            <h4>Carrito de Orden</h4>
        </div>
    </div>
    <br />

    <table class="table" style="font-family: Helvetica Neue, Helvetica, Arial, sans-serif">
        <tr>
            <th>
                Plato
            </th>
            <th>
                Precio
            </th>
            <th>
                Cantidad
            </th>
            <th>
                Total
            </th>
            <th> </th>
        </tr>
        @{
            double total = 0;
        }
        @if (Session["carrito"] != null)
        {
            foreach (var item in Session["carrito"] as List<AppRestaurantSiglo21.Models.CarritoItem>)
            {
                total += (double)(item.Cantidad * item.Producto.PRECIOPRODUCTO);
        <tr>
            <td>
                @Html.DisplayFor(model => item.Producto.DESCPRODUCTO)
            </td>
            <td>
                @String.Format("{0:C}", item.Producto.PRECIOPRODUCTO)
            </td>
            <td>
                @Html.DisplayFor(model => item.Cantidad)
            </td>
            <td>
                @String.Format("{0:C}", (item.Cantidad * item.Producto.PRECIOPRODUCTO))
            </td>
            <td>
                @Html.ActionLink("Eliminar", "Delete","Carrito", new { id = item.Producto.IDPRODUCTO }, new { @class = "btn btn-danger" })
            </td>
            
        </tr>
            }
        }
        <tfoot>
            <tr>
                <th colspan="4">Total</th>
                <th>@String.Format("{0:C}", total)</th>
            </tr>
        </tfoot>
    </table>
    <br />
    <br />
    <div>
        <a>@Html.ActionLink("Volver atrás", "DetailPlato", "CartaDigital", null, new { @class = "btn btn-secondary" })</a>
        <a align="right">@Html.ActionLink("Confirmar Orden", "DetailPlato", "CartaDigital", null, new { @class = "btn btn-warning" })</a>
 
    </div>

