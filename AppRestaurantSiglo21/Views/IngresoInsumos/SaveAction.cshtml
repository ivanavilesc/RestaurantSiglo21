@model AppRestaurantSiglo21.Models.INSUMOSTOCK

@{
    ViewBag.Title = "Create";
    Layout = Session["Layout"].ToString();
}
<div class="container">
    <div class="card text-center">
        <div class="card-body">
            <h4>Ingreso Insumos Bodega</h4>
        </div>
    </div>
    <br />

    @using (Html.BeginForm(null, null, FormMethod.Post, new { id = "createForm" }))
    {
        @Html.AntiForgeryToken()
        <div class="container">


            <div class="form-horizontal">                
                <hr />
                @Html.ValidationSummary(true, "", new { @class = "text-danger" })

                <div class="form-group">
                    Insumo
                    <div class="col-md-10">
                        @Html.DisplayFor(model => Model.INSUMO.DESCINSUMO)
                        @Html.ValidationMessageFor(model => Model.INSUMO.DESCINSUMO, "", new { @class = "text-danger" })
                    </div>
                </div>
                <div class="form-group">
                    Stock Actual
                    <div class="col-md-10">
                        @Html.DisplayFor(modelItem => Model.STOCKACTUAL)
                        @Html.ValidationMessageFor(model => Model.STOCKACTUAL, "", new { @class = "text-danger" })
                    </div>
                </div>

                <div class="form-group">
                    Kilos/Litros
                    <div class="col-md-10">
                        @Html.DisplayFor(modelItem => Model.INSUMO.PESO)
                        @Html.ValidationMessageFor(model => Model.INSUMO.PESO, "", new { @class = "text-danger" })
                    </div>
                </div>

                <input type="hidden" id="IdStockInsumo" name="IdStockInsumo" value=@Session["IdStockInsumo"] />
                <input type="hidden" id="idTipoInsumo" name="idTipoInsumo" value=@Session["idTipoInsumo"] />

                <div class="form-group">
                    Cantidad
                    <div class="col-md-10">
                        <input class="border border-grey flex-1 p-2 mb-6 sm:mb-0 outline-none rounded sm:rounded-none sm:rounded-l text-lg w-full sm:w-auto" data-val="true"  min="1" value="0" type="number" name="Cantidad" id="Cantidad" placeholder="Nueva Cantidad" required>
                    </div>
                </div>

                <div class="form-group">
                    Valor Producto
                    <div class="col-md-10">
                        <input class="border border-grey flex-1 p-2 mb-6 sm:mb-0 outline-none rounded sm:rounded-none sm:rounded-l text-lg w-full sm:w-auto" data-val="true"  min="1" value="0" type="number" name="ValorProducto" id="ValorProducto" placeholder="Valor Producto" required>
                    </div>
                </div>
                

                <div class="form-group">
                    <div class="row">
                        <div class="col-md-offset-2 col-md-10">
                            <button onclick="ansValidation(event)" type="button" class="btn btn-lg btn-primary btn-block">Actualizar Stock</button>
                        </div>
                    </div>
                    <div>

                    </div>
                </div>
            </div>
            <div>
                @Html.ActionLink("Volver atrás", "Index", null, new { idTipoInsumo = @Session["idTipoInsumo"], IdStockInsumo = @Session["IdStockInsumo"] }, new { @class = "btn btn-secondary" })
            </div>
        </div>

        <script src="~/Scripts/jquery.validate.min.js"></script>
        <script src="~/Scripts/jquery-1.10.2.min.js"></script>
        <script src="~/Scripts/jquery.validate.unobtrusive.min.js"></script>
    }

</div>

<script>
    function ansValidation(ev) {
        ev.preventDefault
        var cantidad = document.getElementById("Cantidad").value
        var ValProducto = document.getElementById("ValorProducto").value
        
        //var listaValue = document.getElementById("ListaRoles").value
        // the typeof operator returns a string.
        if (cantidad === "") {
            event.preventDefault();
            window.alert("No igreso cantidad !")
        } else if (ValProducto === "") {
            event.preventDefault();
            window.alert("No igreso cantidad !")        
        } else {
            let form = document.getElementById('createForm');
            form.submit()
        }
    }
</script>

